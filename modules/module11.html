<h1>Модуль 11: Професійне Оточення Тестувальника</h1>
<p>
    Надійні тести вимагають надійного оточення. Недостатньо просто написати код — потрібно, щоб він виконувався в стабільних і правильних умовах. У цьому модулі ми розглянемо два ключові аспекти професійного середовища: як правильно "подавати" сайт для тестування і як ізолювати залежності проєкту.
</p>

<h3><i class="fa-solid fa-server"></i> Проблема №1: "Магія" протоколу `file:///`</h3>
<p>
    <strong>Симптом:</strong> Ви відкриваєте `index.html` подвійним кліком — все працює. Тест відкриває той самий файл — сайт зламаний (наприклад, не завантажуються модулі).
</p>
<p>
    <strong>Діагноз:</strong> Обмеження безпеки. Браузери дуже обережно ставляться до файлів, відкритих з локального диску (через `file:///`). Вони забороняють JavaScript, завантаженому з одного файлу, отримувати доступ до інших файлів на диску. Це зроблено для захисту ваших даних.
</p>
<p>
    <strong>Ліки:</strong> Локальний веб-сервер. Замість того, щоб відкривати файл напряму, ми запускаємо міні-сервер, який "роздає" наш сайт за адресою `http://localhost:8000`. Для браузера це виглядає як справжній сайт, і всі обмеження безпеки знімаються. Python дозволяє зробити це однією командою в терміналі:
</p>
<pre><code>
# 1. Зайти в папку з файлами сайту
cd /шлях/до/папки/з/сайтом

# 2. Запустити сервер
python -m http.server
</code></pre>
<p>Після цього в тестах ми використовуємо `driver.get("http://localhost:8000")`, що є набагато надійнішим підходом.</p>

<h3><i class="fa-solid fa-box-archive"></i> Проблема №2: "На моєму комп'ютері все працювало!"</h3>
<p>
    <strong>Симптом:</strong> Ви запускаєте тест — він падає з помилкою, що команда `pytest` не знайдена, хоча ви її встановлювали.
</p>
<p>
    <strong>Діагноз:</strong> Проблема з оточенням. Скоріш за все, ви забули активувати віртуальне середовище (`.venv`) або встановили пакети в нове, але ще "порожнє" середовище.
</p>
<p>
    <strong>Ліки:</strong> Віртуальне середовище `.venv`. Це ізольована "скринька з інструментами" для кожного проєкту.
</p>
<ul>
    <li><strong>Створення:</strong> `python -m venv .venv`</li>
    <li><strong>Активація (Windows):</strong> `.\.venv\Scripts\activate`</li>
    <li><strong>Встановлення залежностей:</strong> `pip install pytest selenium`</li>
</ul>
<p>
    Робота в `.venv` гарантує, що ваш проєкт має власний набір бібліотек потрібних версій і не конфліктує з іншими проєктами. Це — золотий стандарт професійної розробки.
</p>


<hr>

<h2>Інтерактивний Тест до Модуля 11</h2>
<div class="quiz-container">
    <div class="quiz-questions-wrapper">
        
        <div class="quiz-question">
            <h3>Чому для UI-тестів краще використовувати локальний веб-сервер (`http://`) замість прямого відкриття файлів (`file:///`)?</h3>
            <div class="answers-container">
                <div class="answer-btn" data-correct="false">Тому що це працює швидше.</div>
                <div class="answer-btn" data-correct="false">Тому що це вимагає `pytest`.</div>
                <div class="answer-btn" data-correct="true">Щоб уникнути обмежень безпеки браузера і краще імітувати реальні умови.</div>
            </div>
            <div class="explanation" style="display: none;">
                <p><i class="fa-solid fa-otter"></i> Протокол `http://` дозволяє JavaScript вільно виконувати запити (наприклад, `fetch`), що необхідно для динамічних сайтів, і точно відтворює поведінку сайту в Інтернеті.</p>
            </div>
        </div>

        <div class="quiz-question">
            <h3>Яка головна мета віртуального середовища (`.venv`)?</h3>
            <div class="answers-container">
                <div class="answer-btn" data-correct="true">Ізолювати залежності (бібліотеки) одного проєкту від інших.</div>
                <div class="answer-btn" data-correct="false">Створити резервну копію вашого коду.</div>
                <div class="answer-btn" data-correct="false">Автоматично форматувати ваш код.</div>
            </div>
            <div class="explanation" style="display: none;">
                <p><i class="fa-solid fa-otter"></i> Ізоляція дозволяє уникнути "конфлікту версій", коли різні проєкти потребують різних версій однієї і тієї ж бібліотеки.</p>
            </div>
        </div>

        <div class="quiz-question">
            <h3>Ви активували `.venv` і виконали `pip install pytest`. Де тепер знаходиться `pytest`?</h3>
            <div class="answers-container">
                <div class="answer-btn" data-correct="false">В основній системній установці Python.</div>
                <div class="answer-btn" data-correct="false">В папці "Завантаження".</div>
                <div class="answer-btn" data-correct="true">Всередині папки `.venv` вашого проєкту.</div>
            </div>
            <div class="explanation" style="display: none;">
                <p><i class="fa-solid fa-otter"></i> Всі пакети, встановлені в активному віртуальному середовищі, розміщуються всередині його папки (зазвичай в `.venv/Lib/site-packages`), не зачіпаючи глобальну систему.</p>
            </div>
        </div>

    </div>

    <div class="quiz-navigation">
        <button class="prev-question" disabled>&lt; Назад</button>
        <span class="question-counter">Питання 1 / N</span>
        <button class="next-question">Вперед &gt;</button>
    </div>
</div>